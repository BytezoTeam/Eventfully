<section class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
  {% for item in events %}

  <div class="cool-card w-full static" style="padding: 0 !important">
    {% if user %}
    <div class="absolute m-4">
      {% if item.id in liked_events %}
        {% include 'components/liked-true-button.html' %}
      {% else %}
      {% include
        'components/liked-false-button.html' %}
      {% endif %}
    </div>
    {% endif %}

    <figure class="pt-8 px-8 w-full h-72 rounded-xl">
      <img src="{{ item.image_link }}" loading="lazy" class="object-cover object-center size-full" alt="Event Cover" style="border-radius: inherit;" />
    </figure>

    <div class="card-body">
      <h2 class="card-title flex-gap-1">
        <a href="{{ item.web_link }}" target="_blank" rel="noopener"
          >{{ item.title }}</a
        >
        {% include 'components/icons/external-link.html' %}
      </h2>

      <p>When?: {{ item.start_time }}-{{ item.end_time }}</p>
      <p>Where?: {{ item.address }}</p>
      <p>Category?: {{ item.category }}</p>

      {% if user %}
      <div class="dropdown">
        <button tabindex="0" class="btn btn-ghost btn-active">Share With Groups</button>

        <ul
          tabindex="0"
          class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52"
        >
          {% for group in groups %} {% if not group.id in shared_event_ids %}
          <li>
            <a
              class="btn m-1"
              hx-get="/api/group/share?event_id={{item.id}}&group_id={{id}}"
              hx-swap="outerHTML"
            >
              '{{ group.name }}' group
            </a>
          </li>

          {% endif %} {% endfor %}
        </ul>
      </div>
      {% endif %}
    </div>
  </div>

  {% endfor %}
</section>
