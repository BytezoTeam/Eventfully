<!-- Head -->
{% include "components/navbar.html" %}

<!-- Main -->
<main class="flex flex-col gap-8 border">
  <section class="sticky top-8 z-10 cool-card">
    <!-- Event Search -->
    <h2>{{ t("search") }}</h2>
    <form
      class="flex flex-row flex-wrap justify-start gap-4"
      hx-get="/api/search"
      hx-target="#event-search-result"
      hx-trigger="submit,load"
      hx-indicator=".htmx-indicator"
    >
      <input
        name="therm"
        id="therm"
        class="input input-bordered"
        type="search"
        placeholder="{{ t('search_placeholder') }}"
      />

      <input
        type="text"
        class="input input-bordered"
        placeholder="{{ t('city') }}"
        name="city"
        id="city"
        list="cities"
      />
      <datalist id="cities">
        {% for city in cities %}
        <option value="{{ city }}">{{ city }}</option>
        {% endfor %}
      </datalist>

      <select name="category" id="category" class="select select-bordered">
        <option value="">{{ t("category.all") }}</option>
        <option value="culture">{{ t("category.culture") }}</option>
        <option value="education">{{ t("category.education") }}</option>
        <option value="sport">{{ t("category.sport") }}</option>
        <option value="politics">{{ t("category.politics") }}</option>
      </select>

      <button type="submit" class="btn btn-primary">{{ t("search") }}</button>
    </form>
  </section>

  <!-- Event Results -->
  <div class="htmx-indicator" id="event-search-result"></div>
  <div class="flex justify-center items-center">
    <span
      class="htmx-indicator center loading loading-spinner loading-lg mt-16"
    ></span>
  </div>
</main>
